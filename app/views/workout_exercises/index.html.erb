<h1>Exercises in <%= @workout.name %></h1>

<div class="mb-4">
  <%= link_to "Add Exercise", new_workout_workout_exercise_path(@workout),
              class: "btn bg-blue-500" %>
  <%= link_to "Back to Workout", workout_path(@workout),
              class: "btn bg-blue-500 ml-2" %>
</div>

<% @workout_exercises.each do |workout_exercise| %>
  <div class="m-2 mb-4 bg-gray-100 p-4 rounded">
    <h3 class="text-lg font-semibold">
      <%= link_to workout_exercise.exercise.name,
                  workout_workout_exercise_path(@workout, workout_exercise) %>
    </h3>
    <p class="text-sm text-gray-600"><strong>Category:</strong> <%= workout_exercise.exercise.category %></p>
    <p class="text-sm text-gray-600"><strong>Equipment:</strong> <%= workout_exercise.exercise.equipment %></p>
    <% if workout_exercise.notes.present? %>
      <p class="mt-2"><strong>Notes:</strong> <%= workout_exercise.notes %></p>
    <% end %>
    <p class="text-sm text-gray-600"><strong>Sets:</strong> <%= workout_exercise.workout_sets.count %></p>

    <div class="mt-2">
      <%= link_to "View Sets", workout_workout_exercise_path(@workout, workout_exercise),
                  class: "btn bg-blue-500" %>
      <%= link_to "Edit", edit_workout_workout_exercise_path(@workout, workout_exercise),
                  class: "btn bg-blue-500 ml-2" %>
      <%= link_to "Remove", workout_workout_exercise_path(@workout, workout_exercise),
                  method: :delete, data: { confirm: "Are you sure?" },
                  class: "btn bg-blue-500 ml-2" %>
    </div>
  </div>
<% end %>

<% if @workout_exercises.empty? %>
  <div class="text-center text-gray-500 py-8">
    <p>No exercises added to this workout yet.</p>
    <p><%= link_to "Add your first exercise", new_workout_workout_exercise_path(@workout),
                class: "btn bg-blue-500" %></p>
  </div>
<% end %>
