<h1>Workout Templates</h1>

<div class="my-4">
  <%= link_to "New Template", new_workout_template_path, class: "btn bg-blue-500" %>
  <%= link_to "Back to Workouts", workouts_path, class: "btn bg-blue-500 ml-2" %>
</div>

<% @workout_templates.each do |template| %>
  <div id="workout_template_<%= template.id %>" class="m-2 mb-4 bg-gray-100 p-4 rounded">
    <h3 class="text-lg font-semibold"><%= link_to template.name, workout_template_path(template) %></h3>
    <p class="text-sm text-gray-600 mb-2"><%= template.description %></p>
    <p class="text-sm text-gray-600"><strong>Exercises:</strong> <%= template.workout_template_exercises.count %></p>

    <div class="mt-3">
      <%= form_with url: create_workout_workout_template_path(template), method: :post, local: true, class: "inline-block" do |form| %>
        <%= form.submit "Create Workout from Template", 
                        class: "btn bg-blue-500" %>
      <% end %>
      <%= link_to "Manage Exercises", workout_template_workout_template_exercises_path(template), class: "text-blue-600 ml-4" %>
      <%= link_to "Edit", edit_workout_template_path(template), class: "text-blue-600 ml-4" %>
      <%= link_to "Delete", workout_template_path(template), method: :delete,
                  data: { confirm: "Are you sure?", turbo_method: :delete }, class: "text-red-600 ml-4" %>
    </div>
  </div>
<% end %>

<%= paginate @workout_templates %>
