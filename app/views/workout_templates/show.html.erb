<h1><%= @workout_template.name %></h1>
<p class="text-sm text-gray-600 mb-4"><%= @workout_template.description %></p>

<div class="mb-4">
  <%= form_with url: create_workout_workout_template_path(@workout_template), method: :post, local: true, class: "inline-block" do |form| %>
    <%= form.submit "Create Workout from Template", 
                    class: "btn bg-blue-500" %>
  <% end %>
  <%= link_to "Edit Template", edit_workout_template_path(@workout_template),
              class: "btn bg-blue-500 ml-2" %>
  <%= link_to "Manage Exercises", workout_template_workout_template_exercises_path(@workout_template),
              class: "btn bg-blue-500 ml-2" %>
</div>

<h2>Exercises in Template</h2>
<% if @workout_template_exercises.any? %>
  <% @workout_template_exercises.each do |template_exercise| %>
    <div class="m-2 mb-4 bg-white p-4 rounded border border-gray-300">
      <h3 class="text-lg font-semibold">
        <%= link_to template_exercise.exercise.name,
                    workout_template_workout_template_exercise_path(@workout_template, template_exercise) %>
      </h3>
      <p class="text-sm text-gray-600"><strong>Category:</strong> <%= template_exercise.exercise.category %></p>
      <p class="text-sm text-gray-600"><strong>Equipment:</strong> <%= template_exercise.exercise.equipment %></p>
      <% if template_exercise.notes.present? %>
        <p class="mt-2"><strong>Template Notes:</strong> <%= template_exercise.notes %></p>
      <% end %>
      <p class="text-sm text-gray-600"><strong>Order:</strong> <%= template_exercise.order %></p>
      
      <div class="mt-2">
        <%= link_to "View", workout_template_workout_template_exercise_path(@workout_template, template_exercise),
                    class: "text-blue-600" %>
        <%= link_to "Edit", edit_workout_template_workout_template_exercise_path(@workout_template, template_exercise),
                    class: "text-blue-600 ml-4" %>
        <%= link_to "Remove", workout_template_workout_template_exercise_path(@workout_template, template_exercise),
                    method: :delete, data: { confirm: "Are you sure?" },
                    class: "text-red-600 ml-4" %>
      </div>
    </div>
  <% end %>
<% else %>
  <div class="text-center text-gray-500 py-8">
    <p>No exercises in this template yet.</p>
  </div>
<% end %>

<div class="mt-4">
  <%= link_to "Back to Templates", workout_templates_path %>
</div>
